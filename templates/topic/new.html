{% extends 'topic/base.html' %}
{% block title %}
    <title>
        Topic | new
    </title>
{% endblock %}

{% block details %}
    <div id="content" class="col-8">
        <div id="nav-path" class="panel mt-3">
            <div class="header">
                <ul class="breadcrumb">
                    <li><a href="{{ url_for('topic.index', id=u.id) }}">主页</a><span class="divider">/发布话题</span>
                    </li>

                </ul>
            </div>
        </div>
        <div class="panel">
            <div class="inner post">
                <form id="create_topic_form" method="post" action="{{ url_for('.add', token=token) }}">
                    <fieldset>
                        <textarea autofocus class="mr-auto my-2" id='title' name='title' rows='1' placeholder="标题字数 10 字以上"></textarea>
                        <div id="board-selector mr-auto mb-2">
                            <span class="tab-selector">选择版块：</span>
                            <select name="board_id" id="board" required>
                                {% for b in bs %}
                                    {% if bid == b.id %}
                                        <option value="{{ b.id }}" selected>{{ b.title }}</option>
                                    {% else %}
                                        <option value="{{ b.id }}">{{ b.title }}</option>
                                    {% endif %}
                                {% endfor %}
                            </select>
                        </div>
                        <div class='markdown_editor in_editor'>
                            <div class='markdown_in_editor'>
                                <textarea class='editor w-100 mt-3' name='content' rows='20'
                                          placeholder='文章支持 Markdown 语法, 请注意标记代码'></textarea>
                                <div class='editor_buttons pull-right'>
                                    <input type="submit" class='span-primary submit_btn' data-loading-text="提交中"
                                           value="提交">
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
    <div id="sidebar" class="col-4 pull-right">
        <div id="add-on-infos" class="panel bg-light py-2 px-3 mt-3 mr-4">
            <div class="header">
                <span class="col_fade">Markdown 语法参考</span>
            </div>
            <div class="inner">
                <ol>
                    <li><tt>### 单行的标题</tt></li>
                    <li><tt>**粗体**</tt></li>
                    <li><tt>`console.log('行内代码')`</tt></li>
                    <li><tt>```js\n code \n```</tt> 标记代码块</li>
                    <li><tt>[内容](链接)</tt></li>
                    <li><tt>![文字说明](图片链接)</tt></li>
                </ol>
                <span><a href="https://segmentfault.com/markdown" target="_blank">Markdown 文档</a></span>
            </div>
        </div>
    </div>

{% endblock %}
